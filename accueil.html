<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ma Banque</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" type="text/css" href="style_accueil.css">
</head>
<body>

  <!-- Sidebar Menu -->
  <div id="sidebar" class="sidebar">
   <!-- Ajoute ceci juste après ton sidebar -->
<div id="overlay" onclick="toggleSidebar()" 
     style="display:none; position:fixed; top:0; left:280px; width:calc(100% - 280px); height:100%; background: rgba(0,0,0,0.3); z-index:999;">
</div>


    <div class="sidebar-header">
      <img src="https://storage.googleapis.com/endurance-apps-liip/media/cache/theming_no_filter_grid_fs/65003414cffc8657ec0129a6" alt="Logo" class="logo">
      <i class="fas fa-power-off logout"></i>
    </div>
    <div class="user-info">
      <i class="fas fa-user-circle"></i>
      <div>
        <h3>Franz Schneider  </h3>
        <p id="last-visit">Dernière visite le --/--/----</p>
      </div>
    </div>

<ul class="menu-list">
  <li class="urgent" data-page="">Numéros d'urgence</li>
  <li data-page="comptes.html">Mes comptes</li>
  <li onclick="showOperationsPage(); toggleSidebar();" style="cursor: pointer;">Mes opérations</li>
  <li data-page="">Mon SécuriPass</li>
  <li data-page="">Mes avantages</li>
  <li data-page="mes_cartes.html">Ma Carte</li>
  <li data-page="nouveau_virement.html"><i class="fas fa-exchange-alt"></i> effectuer un virement</li>
  <li data-page="rib.html"><i class="fas fa-file-alt"></i> éditer un rib</li>
  <li data-page="contact.html"><i class="fas fa-envelope"></i> écrire un message</li>
  <li data-page=""><i class="fas fa-user-circle"></i> Mon Profil</li>
  <li data-page=""><i class="fas fa-folder-open"></i>Mes Documents</li>
</ul>
<ul class="menu-bottom">
  <li data-page="">Actualités</li>
  <li data-page="">Informations</li>
</ul>

  </div>

  <!-- Main Content -->
 <div class="main-content">

  <!-- Header -->
  <div class="header">
    <img src="https://storage.googleapis.com/endurance-apps-liip/media/cache/theming_no_filter_grid_fs/65003414cffc8657ec0129a6"  alt="Logo">
    <i class="fas fa-sign-out-alt logout" onclick="deconnexion()" style="cursor: pointer;" title="Se déconnecter"></i>

  </div>

<!-- Page des opérations (cachée par défaut) -->
<!-- Page Mes Opérations -->
<div id="operationsPage" class="operations-page fade" style="display: none;">

  <div class="operations-header">
    <i class="fas fa-arrow-left" onclick="hideOperationsPage()" style="cursor: pointer; font-size: 20px;"></i>
    <h2>Mes Opérations</h2>
    <div>
      <i class="fas fa-search" style="margin-right: 10px;"></i>
      <i class="fas fa-ellipsis-v"></i>
    </div>
  </div>


  <div class="operations-list">
     <div class="section-title"> 17 Oct 2024</div>
    <div class="operation-item">
      <div class="operation-left">
        <div class="operation-icon red"><i class="fas fa-exchange-alt"></i></i></div>
        <div>
          <div class="operation-text">FREEBOX</div>
          <div class="operation-sub">PRELEVEMENT</div>
        </div>
      </div>
      <div  class="operation-amount"> - 30,50 €</div>
    </div>

    <div class="section-title">7 Oct 2024  </div>
    <div class="operation-item">
      <div class="operation-left">
        <div class="operation-icon red"><i class="fas fa-exchange-alt"></i></i></div>
        <div>
          <div class="operation-text">ENGIE </div>
          <div class="operation-sub">PRELEVEMENT</div>
        </div>
      </div>
      <div  class="operation-amount">- 216,21 €</div>
    </div>

    <div class="section-title">20 juin 2024</div>
    <div class="operation-item">
      <div class="operation-left">
        <div class="operation-icon red"><i class="fas fa-exchange-alt"></i></i></div>
        <div>
          <div class="operation-text"> PASS NAVIGO</div>
          <div class="operation-sub">PRELEVEMENT</div>
        </div>
      </div>
      <div  class="operation-amount">- 75,00 €</div>
    </div>

    <div class="section-title"> 15 fev 2024</div>
    <div class="operation-item">
      <div class="operation-left">
        <div class="operation-icon red"><i class="fas fa-store"></i></div>
        <div>
          <div class="operation-text">MAIF ASSURANCE </div>
          <div class="operation-sub">PRELEVEMENT</div>
        </div>
      </div>
      <div class="operation-amount">- 35,00 €</div>
    </div>
   

  </div>

</div>

    


    <!-- Bonjour -->
    <h1>Bonjour <b style="color: orange;" >Franz Schneider</b></h1>

    <!-- Balance -->
    <div class="balance">
      <h2>Compte courant</h2>
      <p>02365789876</p>
      <div style="color: green;"  class="amount">2 300 000,00 €</div>

      <div class="transactions">
               <div class="transaction">
    <div class="left">
      <div class="icon"><i class="fas fa-exchange-alt"></i></i></div>
      <span>FREEBOX </span>
    </div>
    <span style="color: red;">- 30,50 €</span>
  </div>
  <div class="transaction">
    <div class="left">
      <div class="icon"><i class="fas fa-exchange-alt"></i></div>
      <span>ENGIE </span>
    </div>
    <span style="color: red;">- 216,21 €</span>
  </div>
    <div class="transaction">
    <div class="left">
      <div class="icon"><i class="fas fa-exchange-alt"></i></div>
      <span>PASS NAVIGO  </span>
    </div>
    <span style="color: red;">- 75,00 €</span>
  </div>


  <!-- Voir plus -->
  <div class="see-more" onclick="showOperationsPage()">
  <i class="fas fa-list"></i> Voir plus de transactions
</div>


</div>
</div>



    <!-- Shortcuts -->
    <h2>Mes Raccourcis</h2>
   <div class="shortcuts">
  <div class="shortcut" id="ribShortcut">
    <i class="fas fa-file-alt"></i>
    Mon RIB
  </div>
      <div class="shortcut shortcut-carte" onclick="gererCarte()" style="cursor: pointer;">
    <i class="fas fa-credit-card"></i>
    Gérer mes cartes
  </div>
    </div>

    <!-- Pour Vous -->
    <h2>Pour Vous</h2>
    <div class="slider">
      <div class="card">
        <img src="https://laquotidienne.ma/uploads/actualites/5b11656d8f1de.png" alt="">
        <p>Assurez-vous que votre habitation est bien couverte</p>
      </div>
      <div class="card">
        <img src="https://www.attijariwafabank.com/sites/default/files/2021-01/yeleen.jpg" alt="">
        <p>Découvrez notre nouvelle carte bancaire premium</p>
      </div>
      <div class="card">
        <img src="https://www.attijariwafabank.com/sites/default/files/2020-12/croire_en_votre_courage.jpg" alt="">
        <p>Optimisez votre épargne avec nos conseils</p>
      </div>
      <div class="card">
        <img src="https://boursenews.ma/uploads/actualites/643d48d73497a_Capture%20d%E2%80%99e%CC%81cran%202023-04-17%20a%CC%80%2013.22.47.png" alt="">
        <p>Profitez d'un crédit auto à taux réduit</p>
      </div>
    </div>

    <!-- Footer -->
  <!-- Footer -->
<div class="footer">
  <a href="accueil.html" class="nav-item active">
    <i class="fas fa-home"></i>
    Accueil
  </a>
  <a href="comptes.html" class="nav-item">
    <i class="fas fa-wallet"></i>
    Comptes
  </a>
  <a href="contact.html" class="nav-item">
    <i class="fas fa-comments"></i>
    Contact
  </a>
  <a href="nouveau_virement.html" class="nav-item">
    <i class="fas fa-exchange-alt"></i>
    Virement
  </a>
  <div class="nav-item" onclick="toggleSidebar()">
    <i class="fas fa-bars"></i>
    Menu
  </div>
</div>


  </div> <!-- Fin main-content -->

<div id="compteBloquePopup" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
     background-color: rgba(0,0,0,0.6); z-index: 10000; display: flex; align-items: center; justify-content: center;">
  <div style="background: white; padding: 30px; border-radius: 15px; text-align: center; max-width: 90%; box-shadow: 0 0 15px rgba(0,0,0,0.3);">
    <h2 style="color: red;">Compte bloqué</h2>
    <p>Votre compte est temporairement verrouillé, veuillez vous rapprocher auprès de votre banque pour vous acquitter des frais restants s'élèvant à  <br> <b style="color: red;">200 000 €</b> </p>
   <button id="fermer-popup" class="fermer-btn">Fermer</button>
  </div>
</div>
</body>

<script>
function toggleSidebar() {
  const sidebar = document.getElementById("sidebar");
  const overlay = document.getElementById("overlay");
  sidebar.classList.toggle("active");
  
  // Si le menu est ouvert, on affiche l’overlay, sinon on le cache
  if (sidebar.classList.contains("active")) {
    overlay.style.display = "block";
  } else {
    overlay.style.display = "none";
  }
}

// Date dynamique
const now = new Date();
const options = { day: '2-digit', month: '2-digit', year: '2-digit', hour: '2-digit', minute: '2-digit' };
document.getElementById('last-visit').textContent = `Dernière visite le ${now.toLocaleDateString('fr-FR', options)}`;

</script>
<script>
  // Si on arrive avec #operations dans l'URL, afficher directement la page Mes opérations
  window.addEventListener('load', () => {
    if (window.location.hash === '#operations') {
      showOperationsPage();
    }
  });
</script>


<script>
  function showOperationsPage() {
    // Cache tout sauf footer
    document.querySelectorAll('.header, h1, .balance, h2, .shortcuts, .slider').forEach(el => el.style.display = 'none');
    document.getElementById('operationsPage').style.display = 'block';
  }

  function hideOperationsPage() {
    // Remet tout visible
    document.querySelectorAll('.header, h1, .balance, h2, .shortcuts, .slider').forEach(el => el.style.display = '');
    document.getElementById('operationsPage').style.display = 'none';
  }
</script>

<script>
  function showOperationsPage() {
    document.querySelectorAll('.header, h1, .balance, h2, .shortcuts, .slider').forEach(el => el.style.display = 'none');
    const page = document.getElementById('operationsPage');
    page.style.display = 'block';
    setTimeout(() => page.classList.add('show'), 10);
  }

  function hideOperationsPage() {
    const page = document.getElementById('operationsPage');
    page.classList.remove('show');
    setTimeout(() => {
      page.style.display = 'none';
      document.querySelectorAll('.header, h1, .balance, h2, .shortcuts, .slider').forEach(el => el.style.display = '');
    }, 500);
  }
</script>

<script>
  function gererCarte() {
    // Affichage facultatif d’un petit effet de chargement
    const shortcut = document.querySelector('.shortcut-carte');
    shortcut.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Redirection...';

    // Redirection immédiate ou avec un léger délai si souhaité
    setTimeout(() => {
      window.location.href = "mes_cartes.html";
    }, 1000); // facultatif, 1 seconde de délai
  }
</script>

<script>
  function deconnexion() {
    const loadingOverlay = document.createElement("div");
    loadingOverlay.style.position = "fixed";
    loadingOverlay.style.top = 0;
    loadingOverlay.style.left = 0;
    loadingOverlay.style.width = "100%";
    loadingOverlay.style.height = "100%";
    loadingOverlay.style.backgroundColor = "rgba(0, 0, 0, 0.5)";
    loadingOverlay.style.display = "flex";
    loadingOverlay.style.alignItems = "center";
    loadingOverlay.style.justifyContent = "center";
    loadingOverlay.style.zIndex = 9999;
    loadingOverlay.innerHTML = `
      <div style="color: white; font-size: 1.5em; text-align:center;">
        <i class="fas fa-spinner fa-spin"></i><br><br>
        Déconnexion en cours...
      </div>
    `;
    document.body.appendChild(loadingOverlay);

    setTimeout(() => {
      window.location.href = "index.html";
    }, 2000);
  }
</script>

<script>
  document.getElementById("ribShortcut").addEventListener("click", function () {
    // Affichage d'un effet de chargement si tu veux (optionnel)
    this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Chargement...';

    // Attendre 2 secondes puis rediriger
    setTimeout(function () {
      window.location.href = "RIB.html";
    }, 2000);
  });
</script>


<script>
  // Fonction de redirection avec délai
  function redirectWithDelay(page) {
    const loadingOverlay = document.createElement("div");
    loadingOverlay.style.position = "fixed";
    loadingOverlay.style.top = 0;
    loadingOverlay.style.left = 0;
    loadingOverlay.style.width = "100%";
    loadingOverlay.style.height = "100%";
    loadingOverlay.style.backgroundColor = "rgba(0, 0, 0, 0.5)";
    loadingOverlay.style.display = "flex";
    loadingOverlay.style.alignItems = "center";
    loadingOverlay.style.justifyContent = "center";
    loadingOverlay.style.zIndex = 9999;
    loadingOverlay.innerHTML = '<div style="color: white; font-size: 1.5em;"><i class="fas fa-spinner fa-spin"></i> Chargement...</div>';
    document.body.appendChild(loadingOverlay);

    setTimeout(() => {
      window.location.href = page;
    }, 2000);
  }

  // Attache les clics aux éléments avec data-page
  document.querySelectorAll("li[data-page]").forEach(li => {
    li.style.cursor = "pointer";
    li.addEventListener("click", () => {
      const page = li.getAttribute("data-page");
      redirectWithDelay(page);
    });
  });
</script>

<script>
    function toggleDetails(element) {
      const next = element.nextElementSibling;
      if (next && next.classList.contains('details')) {
        next.style.display = next.style.display === 'block' ? 'none' : 'block';
      }
    }
  </script>
  <script>
  const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

  if (!isMobile) {
    // Redirection vers la version ordinateur
    window.location.href = "desk.html";
  }
</script>
    <script>
  const fermerBtn = document.getElementById("fermer-popup");
  if (fermerBtn) {
    fermerBtn.addEventListener("click", () => {
      const popup = document.getElementById("compteBloquePopup");
      if (popup) popup.style.display = "none";
    });
  }
</script>






</html>
